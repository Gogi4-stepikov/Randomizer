<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>Randomizer</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.5/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-SgOJa3DmI69IUzQ2PVdRZhwQ+dy64/BUtbMJw1MZ8t5HZApcHrRKUc4W0kG879m7" crossorigin="anonymous">
    <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
</head>
<body>
    <a href="{{ url_for('home') }}" class="btn btn-primary top-right-button" style="width: auto;">–í–µ—Ä–Ω—É—Ç—å—Å—è</a>
    <div class="form-container">
        <h1>–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</h1>
        {% with messages = get_flashed_messages() %}
            {% if messages %}
                {% for message in messages %}
                    <div class="alert alert-warning">{{ message }}</div>
                {% endfor %}
            {% endif %}
        {% endwith %}
        <form method="POST" enctype="multipart/form-data">
            <div class="form-group">
                <label>–ê–≤–∞—Ç–∞—Ä (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)</label>
                <div class="avatar-upload">
                    <div class="avatar-placeholder" id="avatarPlaceholder">
                        <i>üë§</i>
                    </div>
                    <img id="avatarPreview" class="avatar-preview" src="#" alt="–ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä –∞–≤–∞—Ç–∞—Ä–∞">
                    <input type="file" id="avatarInput" name="avatar" accept="image/*" class="form-control">
                </div>
            </div>

            <div class="form-group">
                <label>–§–∞–º–∏–ª–∏—è</label>
                <input type="text" name="surname" required>
            </div>

            <div class="form-group">
                <label>–ò–º—è</label>
                <input type="text" name="name" required>
            </div>

            <div class="form-group">
                <label>Email</label>
                <input type="email" name="email" required>
            </div>

            <div class="form-group">
                <label>–û—Ç–∫—É–¥–∞ –≤—ã —É–∑–Ω–∞–ª–∏ –æ –Ω–∞—Å?</label>
                <select name="profession" required>
                    <option value=""></option>
                    <option>—Ç–µ–ª–µ–≥—Ä–∞–º–º</option>
                    <option>–≥–∏—Ç—Ö–∞–±</option>
                    <option>–∏–∑ –ø–æ–∏—Å–∫–∞</option>
                </select>
            </div>

            <div class="form-group">
                <label>–ü–æ–ª</label>
                <div class="radio-group">
                    <div class="radio-option">
                        <input type="radio" name="gender" value="–º—É–∂—Å–∫–æ–π" id="male" required>
                        <label for="male" style="display: inline;">–ú—É–∂—Å–∫–æ–π</label>
                    </div>
                    <div class="radio-option">
                        <input type="radio" name="gender" value="–∂–µ–Ω—Å–∫–∏–π" id="female">
                        <label for="female" style="display: inline;">–ñ–µ–Ω—Å–∫–∏–π</label>
                    </div>
                </div>
            </div>

            <div class="form-group">
                <label>–ü—Ä–∏–¥—É–º–∞–π—Ç–µ –ø–∞—Ä–æ–ª—å</label>
                <input type="password" name="password" required>
            </div>
            
            <div class="form-group">
                <label>–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å</label>
                <input type="password" name="confirm_password" required>
            </div>
            <button type="submit">–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è</button>
        </form>
        {% if submitted %}
        <div class="success-message">
            <h3>–í—ã —É—Å–ø–µ—à–Ω–æ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã!</h3>
        </div>
        {% endif %}
    </div>

    <script>
        document.getElementById('avatarInput').addEventListener('change', function(e) {
            const file = e.target.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = function(event) {
                    const preview = document.getElementById('avatarPreview');
                    preview.src = event.target.result;
                    preview.style.display = 'block';
                    document.getElementById('avatarPlaceholder').style.display = 'none';
                }
                reader.readAsDataURL(file);
            }
        });
    </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.5/dist/js/bootstrap.min.js"></script>
</body>
</html>
